{
  "title": "Data Kernel Overview",
  "panels": [
    {"type": "stat", "title": "WS Connections", "targets": [{"expr": "kernel_ws_connections"}]},
    {"type": "graph", "title": "Redis Reads/Acks", "targets": [
      {"expr": "rate(kernel_redis_read_total[5m])", "legendFormat": "read/s"},
      {"expr": "rate(kernel_redis_ack_total[5m])", "legendFormat": "ack/s"}
    ]},
    {"type": "graph", "title": "Redis Batch Duration", "targets": [{"expr": "histogram_quantile(0.95, sum(rate(kernel_redis_batch_seconds_bucket[5m])) by (le))"}]},
    {"type": "graph", "title": "DLQ Rate", "targets": [{"expr": "rate(kernel_redis_dlq_total[5m])"}]},
    {"type": "graph", "title": "PG Batch Size", "targets": [{"expr": "histogram_quantile(0.95, sum(rate(kernel_pg_batch_size_bucket[5m])) by (le))"}]},
    {"type": "graph", "title": "PG Batch Duration", "targets": [{"expr": "histogram_quantile(0.95, sum(rate(kernel_pg_batch_seconds_bucket[5m])) by (le))"}]}
  ],
  "templating": {"list": []}
}

